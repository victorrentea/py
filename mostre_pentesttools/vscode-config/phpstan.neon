includes:
    - ./vendor/larastan/larastan/extension.neon
    - ./phpstan-baseline.php

parameters:
    paths:
        - ./

    excludePaths:
        analyse: # only scan these for symbols
            - legacy/classes/VMAgentGenerator/
            - legacy/classes/GPBMetadata/
        analyseAndScan:
            - phpstan*.php
            - bootstrap/
            - node_modules/
            - phpstan-cache/
            - public/
            - storage/
            - vendor/
            - nova-components/NumberWithPercentage/vendor/

    ignoreErrors:
        -
            message: '#Call to an undefined method [a-zA-Z0-9\\_|]+::expect\(\)#'
            path: tests/*
        -
            message: '#Undefined variable: \$this#'
            path: tests/*
        -
            message: '#PHPDoc type string of property [a-zA-Z0-9\\_|]+::\$description is not the same as PHPDoc type string\|null of overridden property Illuminate\\Console\\Command::\$description\.#'
            path: app/Console/Commands/*


    level: 5

    editorUrl: 'vscode://file/%%file%%:%%line%%'

    # Additional stricter rules
    # https://phpstan.org/config-reference#stricter-analysis
    checkAlwaysTrueCheckTypeFunctionCall: true
    checkAlwaysTrueInstanceof: true
    checkAlwaysTrueStrictComparison: true
    checkExplicitMixedMissingReturn: true
    checkInternalClassCaseSensitivity: true
    checkFunctionNameCase: true
    reportMaybesInMethodSignatures: true
    reportMaybesInPropertyPhpDocTypes: true
    reportStaticMethodSignatures: true
    checkTooWideReturnTypesInProtectedAndPublicMethods: true

    tmpDir: phpstan-cache
